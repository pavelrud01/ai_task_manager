{
    "type":"object",
    "properties":{
      "funnels":{
        "type":"array",
        "items":{
          "type":"object",
          "required":["segment_id","channel","stages"],
          "properties":{
            "segment_id":{"type":"string"},
            "channel":{"type":"string","enum":["paid","seo","email","affiliate","smm","ugc","crm"]},
            "stages":{
              "type":"array",
              "items":{
                "type":"object",
                "required":["name","message","asset","next_action","kpi"],
                "properties":{
                  "name":{"type":"string"},
                  "message":{"type":"string"},
                  "asset":{"type":"string"},
                  "offer":{"type":"string"},
                  "lead_magnet":{"type":"string"},
                  "risk_reducer":{"type":"string"},
                  "next_action":{"type":"string"},
                  "kpi":{"type":"object"}
                }
              }
            },
            "experiments":{
              "type":"array",
              "items":{
                "type":"object",
                "required":["H","metric","target_delta","success","priority"],
                "properties":{
                  "H":{"type":"string"},
                  "metric":{"type":"string"},
                  "target_delta":{"type":"number"},
                  "success":{"type":"string"},
                  "priority":{"type":"string","enum":["H","M","L"]}
                }
              }
            },
            "assets_required":{"type":"array","items":{"type":"string"}}
          }
        }
      }
    },
    "required":["funnels"]
  }
  